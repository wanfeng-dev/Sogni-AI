// åŠ¨ç‰©åˆ—è¡¨
const animals = [
  "Tiger", "Lion", "Elephant", "Giraffe", "Panda", "Kangaroo", "Zebra", 
  "Dolphin", "Whale", "Shark", "Bear", "Fox", "Wolf", "Rabbit", 
  "Penguin", "Peacock", "Owl", "Parrot", "Eagle", "Monkey", 
  "Cheetah", "Leopard", "Camel", "Horse", "Goat", "Sheep", 
  "Cow", "Dog", "Cat", "Chicken", "Duck", "Swan", 
  "Frog", "Lizard", "Crocodile", "Snake", "Turtle", "Fish", 
  "Jellyfish", "Octopus", "Seahorse", "Seal", "Walrus", "Polar Bear", 
  "Hippopotamus", "Rhinoceros", "Koala", "Sloth", "Armadillo", "Chameleon"
];

// æç¤ºè¯ç”Ÿæˆå‡½æ•°
function generatePrompt() {
  const randomAnimal = animals[Math.floor(Math.random() * animals.length)];
  const scenarios = [
    `A cute ${randomAnimal} in a forest`,
    `A majestic ${randomAnimal} on a mountain`,
    `A playful ${randomAnimal} by the river`,
    `A cartoon ${randomAnimal} with vibrant colors`,
    `A ${randomAnimal} relaxing under a tree`,
    `A futuristic robotic ${randomAnimal}`,
    `A baby ${randomAnimal} exploring nature`,
    `A ${randomAnimal} running in a wide field`,
    `A fantasy version of a ${randomAnimal}`,
    `A ${randomAnimal} with glowing eyes in the dark`
  ];
  
  return scenarios[Math.floor(Math.random() * scenarios.length)];
}

// æ‰§è¡Œä»»åŠ¡
function runTask() {
  const prompt = generatePrompt();
  
  // æ‰¾åˆ°è¾“å…¥æ¡†å¹¶å¡«å…¥æç¤ºè¯
  const inputBox = document.querySelector('textarea');
  if (inputBox) {
    inputBox.value = "";
    inputBox.value = prompt;
    console.log(`âœ… æç¤ºè¯å·²ç”Ÿæˆ: ${prompt}`);
  } else {
    console.error("â— æœªæ‰¾åˆ°è¾“å…¥æ¡†");
    return;
  }

  // ä½¿ç”¨XPathç‚¹å‡»æƒ³è±¡æŒ‰é’®
  const imagineButton = document.evaluate(
    '//*[@id="root"]/div/div[2]/aside/div[1]/button',
    document,
    null,
    XPathResult.FIRST_ORDERED_NODE_TYPE,
    null
  ).singleNodeValue;

  if (imagineButton) {
    imagineButton.click();
    console.log("ğŸš€ å·²ç‚¹å‡»æƒ³è±¡æŒ‰é’®");
  } else {
    console.error("â— æœªæ‰¾åˆ°æƒ³è±¡æŒ‰é’®");
  }
  
  // è®¾ç½®ä¸‹æ¬¡ä»»åŠ¡æ—¶é—´ï¼ˆ2-4åˆ†é’Ÿéšæœºï¼Œç²¾ç¡®åˆ°ç§’ï¼‰
  const randomSeconds = Math.floor(Math.random() * (240 - 120 + 1)) + 120;
  console.log(`â° ä¸‹æ¬¡ä»»åŠ¡å°†åœ¨ ${Math.floor(randomSeconds / 60)} åˆ† ${randomSeconds % 60} ç§’åæ‰§è¡Œ`);
  setTimeout(runTask, randomSeconds * 1000);
}

// å¯åŠ¨ä»»åŠ¡
console.log("âœ… ä»»åŠ¡å·²å¯åŠ¨ï¼Œæ¯ 2-4 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡");
runTask();
